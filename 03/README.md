# 順序回路を実装する
順序回路とは組み合わせ回路に時間の概念が組み合わさった回路のこと<br>
in(t), out(t), in(t+1), out(t+1)・・・は常にクロックの影響を受けて常に更新される。
この辺から脳のシワが増えそうな日本語が並びます。

尚、組み合わせ回路においては時間の概念がないため<br>
入力inが変更されると即座に出力outにも反映される。

---
## 記憶するとは？
記憶する = 以前に記憶していたことを思い返せること  

---
## D型フリップフロップ回路（DFF）とレジスタ
フリップフロップとはなんぞやと思って調べてみたら「宙返り」のことらしいです。

### DFF(D型フリップフロップ)
（一つ前の入力）を出力する順序回路
`out(t) = in(t-1)`

| t | in | out |
|-|-|-|
| 1 | 1 | 0 |
| 2 | 2 | 1 |
| 3 | 3 | 2 |
| 4 | 4 | 3 |

### レジスタ
制御ビットloadによって出力するデータを切り替え順序回路<br>
一つ前クロックの制御ビットload(t-1)で分岐するのがポイント
1ビットレジスタを16個並べたものをレジスタとする

* write<br>
load(t-1) = 1のとき、（一つ前の入力）を出力する、と当時に入力を回路に記憶<br>
なぜならload=1により、一つ前の入力in(t-1)をDFFが記憶しているから<br>
`if load(t-1) then out(t) = in(t-1)`

* read<br>
load(t-1) = 0のとき、（一つ前の出力）を出力する、と同時に出力を回路に記憶<br>
なぜならload=0により、DFFは以前の出力out(t-1)を記憶しているから<br>
`if load(t-1) = 0 then out(t) = out(t-1)`


### メモリ
レジスタをw個並べた回路、ここではw=16<br>
16ビットのレジスタをn個ならべるとRAMnメモリ

RAM64以降は再起的に構築できる<br>
必要なセレクター=log<sub>8</sub>n

* RAM8, 8択なので3ビットで制御
* RAM64, RAM8を８個, どのRAM8か3ビットで選択、もう3ビットを各RAM8に接続
* RAM512, RAM64を8個, ...
* RAM4k(4096), RAM512を8個
* RAM16k(16384), RAM4kを4個 

### プログラムカウンタ(PC)
3つの接魚ビットinc, reset, loadにより2つの機能を実装したレジスタ

1. 出力したアドレスにインクリメントを行う
2. reset=1のとき、0をレジスタに保存、出力する

